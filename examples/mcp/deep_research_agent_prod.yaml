apiVersion: hexdag/v1
kind: Pipeline
metadata:
  name: deep-research-agent-prod
  description: Deep research agent with web search capabilities (PRODUCTION)
spec:
  ports:
    llm:
      adapter: hexdag.builtin.adapters.openai.OpenAIAdapter
      config:
        api_key: ${OPENAI_API_KEY}
        model: gpt-4o
        temperature: 0.7
    tool_router:
      adapter: hexdag.core.ports.tool_router.ToolRouter
      config: {}
  nodes:
  - kind: macro_invocation
    metadata:
      name: research_agent
    spec:
      macro: hexdag.builtin.macros.ReasoningAgentMacro
      config:
        main_prompt: 'You are a deep research agent. Research the following question
          thoroughly: {{research_question}}'
        max_steps: 5
        allowed_tools:
        - search
        - calculate
        tool_format: mixed
    dependencies: []
